<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Class MuSR_td_PSI_bin: main.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>main.cpp</h1><p>This is a small example how to use the class to read some values from the header of a run and to obtain some values from the raw or corrected histograms.</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;iostream&gt;</span>

<span class="preprocessor">#include &quot;MuSR_td_PSI_bin.h&quot;</span>


<span class="keywordtype">int</span> check_bin(<a name="_a0"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html">MuSR_td_PSI_bin</a> *pexample_test) {
  <span class="keywordtype">int</span> ret;

  ret = 0;

  <span class="keywordflow">if</span> (pexample_test &amp;&amp; pexample_test-&gt;<a name="a1"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#afaeabd42e75d8569470d74cff0a9be98" title="Method to obtain if reading and processing of the data file was OK.">readingOK</a>()) {

    pexample_test-&gt;<a name="a2"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#acbe1e325e70837d75c5d29dca71f49f8" title="Method to show current values of member variables.">Show</a>();

    <span class="keywordflow">if</span> (pexample_test-&gt;<a name="a3"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a2ef401db2aca844ed67735133c90f9bf" title="Method returning an integer representing the number of histograms.">get_numberHisto_int</a>() &gt; 0) {


      cout &lt;&lt; <span class="stringliteral">&quot;Name of first histogram (of Run # : &quot;</span>
           &lt;&lt; pexample_test-&gt;<a name="a4"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a4a5e8aa009a39e1e7d2b29cc867ed9d5" title="Method returning an integer containing the run number.">get_runNumber_int</a>() &lt;&lt; <span class="stringliteral">&quot;) : &quot;</span>
           &lt;&lt; pexample_test-&gt;<a name="a5"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#aeb658999fefcbd4394fd5b4b7cac2528" title="Method returning a vector of strings containing the names of the histograms.">get_histoNames_vector</a>()[0]
           &lt;&lt; endl ;

      cout &lt;&lt; <span class="stringliteral">&quot;The t_0 is at : &quot;</span>          &lt;&lt; pexample_test-&gt;<a name="a6"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a120b97137988adfc3898bb9e7549771f" title="Method returning an integer representing the t0 point (from the &amp;quot;integer&amp;quot;...">get_t0_int</a>(0)
           &lt;&lt; <span class="stringliteral">&quot; and the first_good at : &quot;</span> &lt;&lt; pexample_test-&gt;<a name="a7"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#ad091d4191f9b3a6c3441601150911923" title="Method returning an integer representing the first good bin specified in the header...">get_firstGood_int</a>(0)
           &lt;&lt;  endl ;
      cout &lt;&lt; <span class="stringliteral">&quot;The last_good is at : &quot;</span>    &lt;&lt; pexample_test-&gt;<a name="a8"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#abd44e4f041d5dec63fc81ca974a0ed5c" title="Method returning an integer representing the last good bin specified in the header...">get_lastGood_int</a>(0)
           &lt;&lt;  endl ;
      cout &lt;&lt; endl ;

      <span class="keywordtype">int</span> it;

      it = pexample_test-&gt;<a class="code" href="class_mu_s_r__td___p_s_i__bin.html#ad091d4191f9b3a6c3441601150911923" title="Method returning an integer representing the first good bin specified in the header...">get_firstGood_int</a>(0) - pexample_test-&gt;<a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a120b97137988adfc3898bb9e7549771f" title="Method returning an integer representing the t0 point (from the &amp;quot;integer&amp;quot;...">get_t0_int</a>(0)+16;
      cout &lt;&lt; <span class="stringliteral">&quot;The bin # &quot;</span> &lt;&lt; it &lt;&lt; <span class="stringliteral">&quot; after t_0 contains : &quot;</span>
           &lt;&lt; pexample_test-&gt;<a name="a9"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a270daf17990e43d3713c0c3f6bd6940a" title="Method to obtain a vector of double containing the values of the histogram &amp;lt;histo_num&amp;gt;...">get_histo_vector</a>(0,1)[20+pexample_test-&gt;<a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a120b97137988adfc3898bb9e7549771f" title="Method returning an integer representing the t0 point (from the &amp;quot;integer&amp;quot;...">get_t0_int</a>(0)]
           &lt;&lt; endl ;

      cout &lt;&lt; <span class="stringliteral">&quot;By subtracting the background between 50 and 100, this bins contains : &quot;</span>
           &lt;&lt; pexample_test-&gt;<a name="a10"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a9593a99a3d9293bb02ed57bb040a592a" title="Method to obtain a vector of double containing the values of the histogram &amp;lt;histo_num&amp;gt;...">get_histo_fromt0_minus_bckgrd_vector</a>(0,50,100,1)[it]
           &lt;&lt; endl ;

      cout &lt;&lt; <span class="stringliteral">&quot;and it correspond to the 16th bin after the first_good : &quot;</span>
           &lt;&lt; pexample_test-&gt;<a name="a11"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a99d1e501e90eac5f8b5dd39a0ff94988" title="Method to obtain a vector of double containing the values of the histogram &amp;lt;histo_num&amp;gt;...">get_histo_goodBins_minus_bckgrd_vector</a>(0,50,100,1)[16]
           &lt;&lt; endl ;

      <span class="comment">// change public histo</span>
      cout &lt;&lt; <span class="stringliteral">&quot;public variable histos_vector[0][0] = &quot;</span>
           &lt;&lt; pexample_test-&gt;<a name="a12"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a49f45e4f13e0be563b062e0d5c67187e">histos_vector</a>[0][0] &lt;&lt; endl;
      cout &lt;&lt; <span class="stringliteral">&quot;Will now be set to 15.2&quot;</span> &lt;&lt; endl;
      pexample_test-&gt;<a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a49f45e4f13e0be563b062e0d5c67187e">histos_vector</a>[0][0] = 15.2;
      cout &lt;&lt; <span class="stringliteral">&quot;histos_vector[0][0] = &quot;</span> &lt;&lt; pexample_test-&gt;<a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a49f45e4f13e0be563b062e0d5c67187e">histos_vector</a>[0][0] &lt;&lt; endl;

      <span class="comment">// does not change private</span>
      cout &lt;&lt; <span class="stringliteral">&quot;this does not change histo[0][0]&quot;</span> &lt;&lt; endl;
      cout &lt;&lt; <span class="stringliteral">&quot; get_histo(0,0) = &quot;</span>    &lt;&lt; pexample_test-&gt;<a name="a13"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a6d2dcc7f5ee73f9a5944d3f698678638" title="Method to return the value of a single bin as double.">get_histo</a>(0,0) &lt;&lt; endl;
      cout &lt;&lt; <span class="stringliteral">&quot; get_histo_int(0,0) = &quot;</span> &lt;&lt; pexample_test-&gt;<a name="a14"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#af51b46a879d27358afde8dc0380eaace" title="Method to return the value of a single bin as integer.">get_histo_int</a>(0,0) &lt;&lt; endl;

      <span class="comment">// remember to delete information returned by * ...._array() methods</span>
      <span class="comment">// to free up memory</span>
      <span class="keywordtype">int</span> *histo0 = pexample_test-&gt;<a name="a15"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a67eae9cd710a0c8bb797b32cc16e1366" title="Method to obtain an array of type integer containing the values of the histogram...">get_histo_array_int</a>(0);

      <span class="keywordflow">if</span> (histo0 != NULL) <span class="keyword">delete</span> [] histo0; histo0 = NULL;


    } <span class="keywordflow">else</span> {
      cout &lt;&lt; <span class="stringliteral">&quot;Number of histograms &lt; 1!&quot;</span> &lt;&lt; endl;
      ret = 1;
    }
    cout &lt;&lt; <span class="stringliteral">&quot;***** &quot;</span> &lt;&lt; pexample_test-&gt;<a name="a16"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#ac63ae3167f618ac3bc8526cf8eff5cdd" title="Method to obtain the file name.">Filename</a>() &lt;&lt; endl &lt;&lt; endl;

  } <span class="keywordflow">else</span> {
    <span class="keywordflow">if</span> (pexample_test == NULL)
      cout &lt;&lt; <span class="stringliteral">&quot;ERROR NULL pointer to MuSR_td_PSI_bin!&quot;</span> &lt;&lt; endl;
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!pexample_test-&gt;<a class="code" href="class_mu_s_r__td___p_s_i__bin.html#afaeabd42e75d8569470d74cff0a9be98" title="Method to obtain if reading and processing of the data file was OK.">readingOK</a>()) {
      cout &lt;&lt; <span class="stringliteral">&quot;ERROR Reading of file &quot;</span> &lt;&lt; pexample_test-&gt;<a class="code" href="class_mu_s_r__td___p_s_i__bin.html#ac63ae3167f618ac3bc8526cf8eff5cdd" title="Method to obtain the file name.">Filename</a>() &lt;&lt; <span class="stringliteral">&quot; failed!&quot;</span>
           &lt;&lt; endl;
      cout &lt;&lt; <span class="stringliteral">&quot;***** &quot;</span> &lt;&lt; pexample_test-&gt;<a name="a17"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a95ed36c8b4df9516d54514142ea90e7b" title="Method to obtain error/success information after reading.">ReadStatus</a>() &lt;&lt; <span class="stringliteral">&quot; ******&quot;</span> &lt;&lt; endl;
    }
    ret = 1;
  }
  <span class="keywordflow">return</span> ret;
}

<span class="keywordtype">int</span> main( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> ** argv )

  {
    <a class="code" href="class_mu_s_r__td___p_s_i__bin.html">MuSR_td_PSI_bin</a> example_test ;

    example_test.<a name="a18"></a><a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a67c9ecf19ef04ea61e4d8b8306b0a0cc" title="Method to read a PSI-bin or an MDU file.">read</a>(<span class="stringliteral">&quot;deltat_pta_gps_0001.bin&quot;</span>) ;
    check_bin(&amp;example_test);

    example_test.<a class="code" href="class_mu_s_r__td___p_s_i__bin.html#a67c9ecf19ef04ea61e4d8b8306b0a0cc" title="Method to read a PSI-bin or an MDU file.">read</a>(<span class="stringliteral">&quot;pta_gps_2008_07387_14.mdu&quot;</span>) ;
    check_bin(&amp;example_test);

  }

</pre></div> </div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Fri Nov 27 14:32:29 2009 for Class MuSR_td_PSI_bin by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
